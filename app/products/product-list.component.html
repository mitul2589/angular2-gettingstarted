<div>{{pageTitle}}</div>
<input type="text" [(ngModel)]='listFilter' />
<br/> Filter by: {{listFilter}}

{{errorMessage}}

<table *ngIf='products && products.length'>
    <thead>
        <tr>
            <th><button (click)='toggleImage()'>{{showImage ? 'hide' : 'Show'}} Image</button></th>
            <th>Product Name</th>
            <th>Product Code</th>
            <th>Price</th>
            <th>Star</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor='let product of products | productFilter: listFilter'>
            <td><img *ngIf='showImage'
                 [src]='product.img' 
                 [style.width.px]='imageWidth' 
                 [style.height.px]='imageHeight' />
            </td>
            <td><a [routerLink]="['/products', product.id]">{{product.name}}</a></td>
            <td>{{product.code}}</td>
            <td>{{product.price | currency:'USD':true}}</td>
            <td>
                <div style="height:18px; overflow: hidden" [style.width.px]='product.starrating'>
                    <span class="glyphicon glyphicon-star"></span>
                    <span class="glyphicon glyphicon-star"></span>
                    <span class="glyphicon glyphicon-star"></span>
                    <span class="glyphicon glyphicon-star"></span>
                    <span class="glyphicon glyphicon-star"></span>
                </div>
            </td>
        </tr>
    </tbody>